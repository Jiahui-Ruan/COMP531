<!DOCTYPE html>
<html lang = "en_US">
<head>
<meta charset="utf-8">
<meta name="author" content="Jiahui Ruan">
<title>Landing Page</title>
<style type="text/css">
  body{
  font-family: Comic Sans MS;
  font-size: 16px;
  font-weight:bold
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  }
  input{
  padding:5px 15px; 
  background:#ccc; border:0 none;
  cursor:pointer;
  -webkit-border-radius: 5px;
  border-radius: 5px;
  }
</style>
</head>

<body onload="showTimeStamp()">
<center>
	<h1>Welcome to RiceBook</h1>
	<img src="rice_university.jpg" alt="Image Missing" width="200" height="200">
	<form name="form" action="formProcessor.html" method="GET">
		Account Name<br/>
		<input type="text" name="name" placeholder="your name" required>
		<br/><br/>
		Display Name(optional)<br/>
		<input type="text" name="display_name" placeholder="your preferred name">
		<br/><br/>
		Email Address<br/>
		<input type="text" name="email" placeholder="a@b.co" required>
		<br/><br/>
		Phone Number<br/>
		<input type="text" name="phone_number" placeholder="123-123-1234" required>
		<br/><br/>
		Date of Birth<br/>
		<input type="text" name="birthday" placeholder="01/01/1990" required>
		<br/><br/>
		Zip Code<br/>
		<input type="text" name="zipcode" placeholder="XXXXX" required>
		<br/><br/>
		Password<br/>
		<input type="password" name="password" required>
		<br/><br/>
		Password Confirmation<br/>
		<input type="password" name="password_confirmation" required>
		<br/><br/>
		<input type="hidden" name="timestamp" id="settime">
		<input type="submit" name="placeOrder" value="Place Order" onclick="return validateForm(document.form)"/>
		<input type="reset" name="Clear" value="clear">
</center>
</form>
	<script type="text/javascript">
    //create a function to validate the form
		function validateForm(form) {
			if(validateName(form.name) === false) {
				alert("Not a valid Name");
			}
			if(validateEmail(form.email) === false) {
				alert("Not a valid Email");
			}
			if(validatePhone(form.phone_number) === false) {
				alert("Not a valid Phone Number");
			}
			if(validateBirthday(form.birthday) === false) {
				alert("Not a valid Birthday");
			}
			if(validateZipcode(form.zipcode) === false) {
				alert("Not a valid Zipcode");
			}
			if(validateAge(form.birthday) === false) {
				alert("Sorry you are under 18");
			}
			if(validatePassword(form.password, form.password_confirmation) == false) {
				alert("Not the same password");
			}
			
		}
		function validateName(inputtxt) {  
  			var reg = /^[a-zA-Z0-9]+$/;  
  			if(inputtxt.value.match(reg)){  
       			return true;        
     		}  
   			else{         		 
       			return false;
       		}  
        }
        function validateEmail(inputtxt) {  
  			var reg = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;;  
  			if(inputtxt.value.match(reg)){  
       			return true;        
     		}  
   			else{         		 
       			return false;
       		}  
        }
		function validatePhone(inputtxt) {  
  			var reg = /^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/;  
  			if(inputtxt.value.match(reg)){  
       			return true;        
     		}  
   			else{         		 
       			return false;
       		}  
        }
        function validateBirthday(inputtxt) {  
  			var reg = /^([0-9]{2})\/([0-9]{2})\/([0-9]{4})$/;  
  			if(inputtxt.value.match(reg)){
       			return true;        
     		}  
   			else{         		 
       			return false;
       		}  
        }
        function validateAge(inputtxt) {

        	var year = Number(inputtxt.value.substr(6,4)); 
        	var month=Number(inputtxt.value.substr(0,2))-1;
        	var day=Number(inputtxt.value.substr(3,2));
        	var today = new Date();
        	var age = today.getFullYear() - year;
        	if(today.getMonth()<month || (today.getMonth()===month && today.getDate()<day)){age--;}
  			if(age >= 18){ 
       			return true;        
     		}  
   			else{        		 
       			return false;
       		}  
        }
        function validateZipcode(inputtxt) {  
  			var reg = /(^\d{5}$)|(^\d{5}-\d{4}$)/;  
  			if(inputtxt.value.match(reg)){  
       			return true;        
     		}  
   			else{         		 
       			return false;
       		}  
        }
        function validatePassword(password, password_confirmation) {
        	if(password.value != password_confirmation.value) {
        		return false;
        	}
        	else{
        		return true;
        	}
        }
        //when the page load, onload this function to mark the timestamp
        //change it into millis so that it will be easier to fill in query string
        function showTimeStamp() {
        	var timestamp = new Date().getTime() / 1000;
         //use this method to set value for elements in HTML
        	document.getElementById("settime").value = timestamp;
        }
        
	</script>
	
</body>

</html>
