<!DOCTYPE html>
<html lang = "en_US">
<head>
<meta charset="utf-8">
<meta name="author" content="Jiahui Ruan">
<title>Form Processor Page</title>
</head>

<body>
	
	<h4>Query Parameter from the Location</h4>
	<table border="3">
		<tr>
		<td>Name:</td>
		<td id="name"></td>
		</tr>
		<tr>
		<td>DisplayName:</td>
		<td id="display_name"></td>
		</tr>
		<tr>
		<td>Email:</td>
		<td id="email"></td>
		</tr>
		<tr>
		<td>Phone:</td>
		<td id="phone_number"></td>
		</tr>
		<tr>
		<td>Birthday:</td>
		<td id="birthday"></td>
		</tr>
		<tr>
		<td>Zipcode:</td>
		<td id="zipcode"></td>
		</tr>
		<tr>
		<td>TimeStamp:</td>
		<td id="timestamp"></td>
		</tr>
	</table>
	
</body>
<script type="text/javascript">
	function getParameterByName(name, url) {
	    if (!url) url = window.location.href;
	    name = name.replace(/[\[\]]/g, "\\$&");
	    var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
	        results = regex.exec(url);
	    if (!results) return null;
	    if (!results[2]) return '';
	    return decodeURIComponent(results[2].replace(/\+/g, " "));
	}
	//create a var to save the element in query string
	var name = getParameterByName("name");
	var display_name = getParameterByName("display_name");
	var email = getParameterByName("email");
	var phone_number = getParameterByName("phone_number");
	var birthday = getParameterByName("birthday");
	var zipcode = getParameterByName("zipcode");
	var timestamp = getParameterByName("timestamp");
	//change into readable time
	var date = new Date(timestamp*1000);
	var month =	date.getMonth()+1;
	var day = date.getDate();
	var year = date.getFullYear();
	var hours =	date.getHours();
	var minutes	= date.getMinutes();
	var seconds	= date.getSeconds();
	if(day<10){day='0'+day}
	if(month<10){month='0'+month}
	if(hours<10){hours='0'+hours}
	if(minutes<10){minutes='0'+minutes}
	if(seconds<10){seconds='0'+seconds}	
	var datevalues = month+"/"+day+"/"+year+"		"+hours+":"+minutes+":"+hours;
	//use JS to return the value to HTML tag
	document.getElementById("name").innerHTML = name;
	document.getElementById("display_name").innerHTML = display_name;
	document.getElementById("email").innerHTML = email;
	document.getElementById("phone_number").innerHTML = phone_number;
	document.getElementById("birthday").innerHTML = birthday;
	document.getElementById("zipcode").innerHTML = zipcode;
	document.getElementById("timestamp").innerHTML = datevalues;
</script>
</html>